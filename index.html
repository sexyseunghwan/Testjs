<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=360, height=740, user-scalable=yes, initial-scale=1.0, maximum-scale=2.0"/>
    <script src = "https://code.jquery.com/jquery-1.12.4.js"></script>
    <title>Document</title>

    <style>
	    #tbl1 {
		    border: 1px solid black;
		    border-collapse: collapse;
	    }
	    #tbl1 td {
		    border: 1px solid black;
		    width : 50px;
            height : 50px;
	    }
	    #tbl1 td img {
		    display: block;
            width : 50px;
            height : 50px;
		    cursor: pointer;
	    }


    </style>

</head>
<body>
    <table id="tbl1">
		<tr>
			<td class="cell" id = "start"><img src="./images/hs.jpg"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
		</tr>
		<tr>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
		</tr>
		<tr>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
		</tr>
		<tr>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
		</tr>
		<tr>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"></td>
			<td class="cell"><img src="./images/ch.jpg"></td>
		</tr>
    </table>

    <!-- <div id = "checkin"  style = "visibility: hidden; color : red;">더 강하게~</div> -->
    <div id = "checkin">

    </div>

    <script>
        var list = document.getElementsByClassName("cell");// 각 셀들을 객체로 잡아준다
        var start = document.getElementById("start");
        var num = 1;
        var count = 0;
        var timer = 0;
        var count = 0;

        // 위치 벡터들...
        var v1 = [1,5];
        var v2 = [1,-5];
        var v3 = [-5,1,5];
        var v4 = [5,-1];
        var v5 = [-5,-1];
        var v6 = [-5,-1,5];
        var v7 = [-1,1,5];
        var v8 = [-1,1,5,-5];

        start.onmousedown = function() {

            

            if(count == 0) {
                alert("달릴준비 대쓰?");
            } else {
                alert("더 빠르게!");
            }

            timer = setInterval(function(){
            
            count++;    
            
            if(num != 24) {
                clear();
                
                //console.log(num);

                var pic = document.createElement("img");
                pic.setAttribute("src","./images/hs.jpg");
                list[num].appendChild(pic);
                
               
                console.log( v1[parseInt(Math.random()*(v1.length))]);
                

                if (num % 5 == 0) {
                    
                    if (num == 5) {
                        num += v1[parseInt(Math.random()*(v1.length))];
                    } else if (num == 20) {
                        num += v2[parseInt(Math.random()*(v2.length))];
                    } else {
                        num += v3[parseInt(Math.random()*(v3.length))];
                    }

                } else if (num % 5 == 4) {
                    if (num == 4) {
                        num += v4[parseInt(Math.random()*(v4.length))];
                    } else if (num == 24) {
                        num += v5[parseInt(Math.random()*(v5.length))];
                    } else {
                        num += v6[parseInt(Math.random()*(v6.length))];
                    }

                } else if (parseInt(num / 5) == 0) {
                    if (num == 1) {
                        num += v1[parseInt(Math.random()*(v1.length))];
                    } else {
                        num += v7[parseInt(Math.random()*(v7.length))];
                    }
                } else if (parseInt(num / 5) == 4) {
                    num += v2[parseInt(Math.random()*(v2.length))];
                } else {
                    num += v8[parseInt(Math.random()*(v8.length))];
                }

               

            } else {//마지막 경우
                clear();
                list[24].innerHTML="";
                var pic = document.createElement("img");
                pic.setAttribute("src","./images/hs.jpg");
                list[24].appendChild(pic);
              
            }

        },200);   
    }


    $("#checkin").click(function(){
        alert("asd");
        
    });

    
    function clear() {

        for (var i = 0; i < 25; i++) {

            list[i].innerHTML = "";

        }
        
        var pic1 = document.createElement("img");
        pic1.setAttribute("src","./images/ch.jpg");

        list[0].appendChild(pic1);
        

        var pic2 = document.createElement("img");
        pic2.setAttribute("src","./images/ch.jpg");

        list[24].appendChild(pic2);

        

    }


    </script>
</body>
</html>